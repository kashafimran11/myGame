<!doctype html>
<html lang="en">
<head>
    <title>Tic Tac Toe Game</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <style>
        body{
            /* background: radial-gradient(circle at top, #1b004d, #09001a); */
            background-color: rgb(2, 2, 61);
            min-height:100vh;
            display:flex;
            justify-content:center;
            align-items:center;
            font-family: 'Poppins', sans-serif;
        }
           body.dark-mode {
                background-color: #000000;
                color: #f5f5f5;

            }
              body.dark-mode button {
                background-color: #444;
                color: #f5f5f5;
border: none;
            }


        h1{
            color:#fff;
            text-shadow:0 0 10px #7f5cff, 0 0 25px #00eaff;
            margin-bottom:20px;
            font-weight:700;
        }

        .container{
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding:30px;
            border-radius:18px;
            width:360px;
            text-align:center;
            box-shadow:0 0 40px rgba(127,92,255,0.6);
            border:1px solid rgba(255,255,255,0.15);
        }

        .game{
            display:grid;
            grid-template-columns:repeat(3,1fr);
            gap:12px;
            margin-top: 20px;
        }

        .box{
            height:95px;
            font-size:42px;
            border:none;
            border-radius:15px;
            cursor:pointer;
            background:#0e0033;
            color:white;
            font-weight:bold;
            box-shadow: inset 0 0 15px rgba(0,234,255,0.4),
                        0 0 15px rgba(127,92,255,0.6);
            transition:0.25s;
        }

        .box:hover{
            transform: scale(1.05);
            box-shadow:0 0 25px #00eaff;
        }

        .box:disabled{
            cursor:not-allowed;
            opacity:0.9;
        }

        .box.X{
            color:#00eaff;
            text-shadow:0 0 15px #00eaff;
        }

        .box.O{
            color:#ff4fd8;
            text-shadow:0 0 15px #ff4fd8;
        }

        #reset{
            margin-top:25px;
            padding:12px;
            width:100%;
            border:none;
            border-radius:10px;
            background: linear-gradient(135deg,#7f5cff,#00eaff);
            color:black;
            font-size:17px;
            font-weight:600;
            box-shadow:0 0 20px rgba(0,234,255,0.8);
            transition:0.3s;
        }
        .reset{
          /* margin-left: 700px ; */
        margin-top: 500px;
            padding:12px;
            width: 20%;
            border:none;
            border-radius:10px;
            background: linear-gradient(135deg,#7f5cff,#00eaff);
            color:black;
            font-size:17px;
            font-weight:600;
            box-shadow:0 0 20px rgba(0,234,255,0.8);
            transition:0.3s;
            
        }

        #reset:hover{
            transform: scale(1.05);
            box-shadow:0 0 30px #7f5cff;
        }

        .msg{
            margin-top:18px;
            color:white;
            font-size:20px;
            min-height:28px;
            text-shadow:0 0 15px #00eaff;
        }
    </style>
</head>

<body>
              <button  class="reset" id="togglebtn">DarkMode</button>


<div class="container">
    <h1>ðŸŽ® Tic Tac Toe</h1>

    <div class="game">
        <button class="box"></button>
        <button class="box"></button>
        <button class="box"></button>

        <button class="box"></button>
        <button class="box"></button>
        <button class="box"></button>

        <button class="box"></button>
        <button class="box"></button>
        <button class="box"></button>
    </div>

    <div class="msg" id="msg"></div>

    <button id="reset">Reset Game</button>
</div>

<script>
let boxes = document.querySelectorAll(".box");
let resetBtn = document.querySelector("#reset");
let msg = document.querySelector("#msg");

let turnO = true; // O first

const winPattern = [
  [0,1,2],[3,4,5],[6,7,8],
  [0,3,6],[1,4,7],[2,5,8],
  [0,4,8],[2,4,6]
];

boxes.forEach((box) => {
  box.addEventListener("click", () => {
    if (turnO) {
      box.innerText = "O";
      box.classList.add("O");
    } else {
      box.innerText = "X";
      box.classList.add("X");
    }
    turnO = !turnO;
    box.disabled = true;
    checkWinner();
  });
});

const checkWinner = () => {
  for (let pattern of winPattern) {
    let a = boxes[pattern[0]].innerText;
    let b = boxes[pattern[1]].innerText;
    let c = boxes[pattern[2]].innerText;

    if (a && a === b && b === c) {
      msg.innerText = `ðŸ”¥ Winner: ${a}`;
      boxes.forEach(box => box.disabled = true);
      return;
    }
  }

  if ([...boxes].every(box => box.innerText !== "")) {
    msg.innerText = "ðŸ¤ Match Draw";
  }
};

resetBtn.addEventListener("click", () => {
  turnO = true;
  msg.innerText = "";
  boxes.forEach(box => {
    box.innerText = "";
    box.disabled = false;
    box.classList.remove("X","O");
  });
});
  // lightmode
 const togglebtn = document.getElementById('togglebtn');

        togglebtn.addEventListener('click' , () =>{
            document.body.classList.toggle('dark-mode') ;
            if(document.body.classList.contains('dark-mode') ){
                togglebtn.textContent = "switch to light mode";

            }
            else{
                togglebtn.textContent = "switch to  dark mode";
            }
        }) ;
</script>

</body>
</html>
